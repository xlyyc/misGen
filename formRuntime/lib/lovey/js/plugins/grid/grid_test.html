<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>javascript-grid</title>
    <!--lovey ui-->
    <link href="../../../../lovey/style/css/lovey.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<div class="ui_container">
    <a href="javascript:void(0)" onclick="addRow()" class="ui_btn ui_btn_primary">新增</a>

    <div id="maingrid" class="mt10"></div>
</div>
<!--jquery核心文件-->
<script src="../../../../lovey/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<!--懒加载核心js文件-->
<script src="../../../../lovey/js/easyloader.js" type="text/javascript"></script>
<script type="text/javascript">
    var i=0;
    $(document).ready(function () {
        using(["grid", "menu"], function () {
            $("#maingrid").ligerGrid({
                columns: [
                    {name: "Employee.emId", columnType: "BindData", display: "工号", width: "100", bindDataField: "Employee.emId", isAllowHide: true, frozen: null, orderByType: "null", canSearch: true, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}, regStr: "/^.{6}$/", errorInfo: "此项必填且长度须为6;"}, readOnly: false, isAllowHide: true},
                    {name: "Employee.name", columnType: "string", display: "姓名", width: "200", bindDataField: "Employee.name", isAllowHide: true, frozen: null, orderByType: "null", canSearch: null, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}, regStr: "/^.{0,5}$/", errorInfo: "此项必填且长度须在【0-5】之间;"}, readOnly: false, isAllowHide: true},
                    {name: "sex.name", columnType: "BindData", display: "性别", width: "100", bindDataField: "sex.name", isAllowHide: true, frozen: null, orderByType: "null", canSearch: true, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}, regStr: "/^.{6}$/", errorInfo: "此项必填且长度须为6;"}, readOnly: false, isAllowHide: true},
                    {name: "Employee.age", columnType: "integer", display: "年龄", width: "100", bindDataField: "Employee.age", isAllowHide: true, frozen: null, orderByType: "null", canSearch: null, refSearchCondition: "null", linkForm: "null", editor: {type: "int", options: {}}, readOnly: false, isAllowHide: true},
                    {name: "Employee.country", columnType: "BindData", display: "国籍", width: "100", bindDataField: "Employee.country", isAllowHide: true, frozen: null, orderByType: "null", canSearch: null, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}}, readOnly: false, isAllowHide: true},
                    {name: "Employee.nation", columnType: "BindData", display: "民族", width: "100", bindDataField: "Employee.nation", isAllowHide: true, frozen: null, orderByType: "null", canSearch: true, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}, regStr: "/^.{6}$/", errorInfo: "此项必填且长度须为6;"}, readOnly: false, isAllowHide: true},
                    {name: "Employee.address", columnType: "BindData", display: "家庭住1址", width: "200", bindDataField: "Employee.address", isAllowHide: true, frozen: null, orderByType: "null", canSearch: true, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}}, readOnly: false, isAllowHide: true},
                    {name: "Employee.comments", columnType: "BindData", display: "备注", width: "200", bindDataField: "Employee.comments", isAllowHide: true, frozen: null, orderByType: "null", canSearch: true, refSearchCondition: "null", linkForm: "null", editor: {type: "text", options: {}, regStr: "/^.{6}$/", errorInfo: "此项必填且长度须为6;"}, readOnly: false, isAllowHide: true}
                ],
                data: {
                    "Rows": [],
                    "Totalcount": 0},
                checkbox: true,
                onAfterEdit: function (editParm) {
                    alert("AA");
                },
                enabledEdit: true, // 允许编辑
                rownumbers: true,
                allowAdjustColWidth: false,// 允许调整列宽
                // ，与行编辑冲突，设置为false
                dblClickToEdit: true, // 双击编辑
                rowDraggable: false, // 允许拖动行
                // ，与行编辑冲突，设置为false
                isScroll: true,
                headerRowHeight: 30,
                columnWidth: 100,
                rowHeight: 20
            });
        })
    });

    function addRow() {
        i++;
        var gridManage = $("#maingrid").ligerGetGridManager();

        var row = gridManage.getSelectedRow();

        gridManage.addRow({
            "Employee": {"id": "23423423222", "address": "Test", "sexId": "1", "age": "13", "name": "赵云"+i, "birthdate": "2003-09-15 00:00:00.0", "emId": "uu", "entryDate": "2013-09-26 00:00:00.0", "nation": "china", "country": "1"}
        }, row, true);

    }
</script>
</body>
</html>