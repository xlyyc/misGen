<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>progressbar样式</title>
    <!--lovey ui-->
    <link href="../../../../lovey/style/css/lovey.css" rel="stylesheet" type="text/css"/>
    <!--文档自定义样式-->
    <link href="../../../../docs/assets/css/docs.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<div class="ui_container_fluid show-grid ">
    <h1>progressbar demo</h1>
    <div class="row">
        <div class="grid_1_5">
            <h4><code>默认样式</code></h4>
            <div id="progressbar1" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>className:ui_progress_info</code></h4>
            <div id="progressbar2" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>className:ui_progress_warning</code></h4>
            <div id="progressbar3" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>className:ui_progress_danger</code></h4>
            <div id="progressbar4" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>className:ui_progress_success</code></h4>
            <div id="progressbar5" class="progressbar"></div>
        </div>
    </div>
    <hr class="grid_30">
    <div class="row">
        <h3><strong>带条纹的样式</strong><code>className:ui_progress_striped</code></h3>
        <div class="grid_1_5">
            <h4><code>默认样式</code></h4>
            <div id="progressbar6" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>barClassName:{0:'bar_info'}</code></h4>
            <div id="progressbar7" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>barClassName:{0:'bar_warning'}</code></h4>
            <div id="progressbar8" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>barClassName:{0:'bar_danger'}</code></h4>
            <div id="progressbar9" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4><code>barClassName:{0:'bar_success'}</code></h4>
            <div id="progressbar10" class="progressbar"></div>
        </div>
    </div>
    <hr class="grid_30">
    <div class="row">
        <h3>颜色渐变的样式</h3>
        <div class="grid_1_5">
            <h4>两种颜色</h4>
            <div id="progressbar11" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4>三种颜色</h4>
            <div id="progressbar12" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4>四种颜色</h4>
            <div id="progressbar13" class="progressbar"></div>
        </div>
        <div class="grid_1_5">
            <h4>带条纹的渐变</h4>
            <div id="progressbar14" class="progressbar"></div>
        </div>

    </div>
</div>
<!--jquery核心文件-->
<script src="../../../../lovey/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<!--懒加载核心js文件-->
<script src="../../../../lovey/js/easyloader.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        using("progressbar", function () {
            $("#progressbar1").progressBar(0, {
                textFormat: "percentage",
                width:200,
                height:25
            });
            $("#progressbar2").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_info"
            });
            $("#progressbar3").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_warning"
            });
            $("#progressbar4").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_danger"
            });
            $("#progressbar5").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_success"
            });
            $("#progressbar6").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped"
            });
            $("#progressbar7").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped",
                barClassName: {
                    0: 'bar_info'
                }
            });
            $("#progressbar8").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped",
                barClassName: {
                    0: 'bar_warning'
                }
            });
            $("#progressbar9").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped",
                barClassName: {
                    0: 'bar_danger'
                }
            });
            $("#progressbar10").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped",
                barClassName: {
                    0: 'bar_success'
                }
            });
            $("#progressbar11").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                barClassName: {
                    0: 'bar_success',
                    60: 'bar_warning'
                }
            });
            $("#progressbar12").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                barClassName: {
                    0: 'bar_success',
                    40: 'bar_warning',
                    75: 'bar_danger'
                }
            });
            $("#progressbar13").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                barClassName: {
                    0: 'bar_success',
                    40: 'bar_info',
                    75: 'bar_warning',
                    95: 'bar_danger'
                }
            });
            $("#progressbar14").progressBar(0, {
                textFormat: "fraction",
                width:200,
                height:25,
                className:"ui_progress_striped",
                barClassName: {
                    0: 'bar_success',
                    40: 'bar_info',
                    75: 'bar_warning',
                    95: 'bar_danger'
                }
            });
            beginUpload();
        });

        function beginUpload() {
            $(".progressbar").fadeIn();

            var i=1;
            var step=setInterval(function () {
                $.getJSON("data.json", function (data) {
                    if (data == null) {
                        clearInterval(step);
                        location.reload();
                        return;
                    }
                    i=i+5;

                    var percentage = (Math.floor(10 * parseInt(data.bytes_uploaded) / parseInt(data.bytes_total)))+i;
                    $(".progressbar").progressBar(percentage);
                    if (percentage>=100)  location.reload();
                });
            }, 1500);
        }
    })
</script>
</body>
</html>